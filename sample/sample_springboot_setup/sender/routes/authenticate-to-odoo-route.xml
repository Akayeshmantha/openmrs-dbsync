<routes xmlns="http://camel.apache.org/schema/spring">
  <route id="authenticate-to-odoo">
    <from uri="direct:authenticate-to-odoo"/>
    <setProperty propertyName="body-buffer">
      <simple>${body}</simple>
    </setProperty>
    <setBody>
      <simple>${null}</simple>
    </setBody>
    <enrich strategyRef="setOdooTokenToHeaderAggregationStrategy">
      <constant>{{odoo.url}}/api/auth/token?login={{odoo.username}}&amp;password={{odoo.password}}&amp;db={{odoo.database}}</constant>
    </enrich>
    <log message="authenticated to Odoo"/>
    <setBody>
      <simple>${property.body-buffer}</simple>
    </setBody>
    <removeProperty propertyName="body-buffer"/>
  </route>
</routes>
